<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Athena++: TIGRE++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Athena++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">TIGRE++ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__Users_la15_Github_athena_README"></a></p>
<p><a href="https://travis-ci.com/changgoo/athena"><img src="https://travis-ci.com/changgoo/athena.svg?token=zDMx1xCUpqHetCXZd3QH&amp;branch=tigre-master" alt="Travis CI Build Status" style="pointer-events: none;" class="inline"/></a> <a href="https://opensource.org/licenses/BSD-3-Clause"><img src="https://img.shields.io/badge/License-BSD%203--Clause-blue.svg" alt="License" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
Introduction</h1>
<p>Welcome! Thank you for considering contributing to TIGRE++ and Athena++.</p>
<p>**The following guidelines are mostly copy-pasted from the original <a href="https://github.com/changgoo/athena/blob/master/CONTRIBUTING.md"><code>CONTRIBUTING.md</code></a> document in the Athena++ repo with small modifications for the TIGRE++ project.**</p>
<p>The guidelines in this document are meant to help make the development of Athena++ straightforward and effective. They are a set of best practices, not strict rules, and this document may be modified at any time. Navigating the code can be daunting for new users, so if anything is unclear, please let us know!</p>
<p><a href="https://changgoo.github.io/athena">Doxygen Documentation</a> is currently available for public access and automatically deployed whenever push or PR is made to <code>tigre-master</code>.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Resources and quick links</h2>
<ul>
<li>The latest development version of TIGRE++ is hosted in the private fork <a href="https://github.com/changgoo/athena">changgoo/athena</a> of the latest development version of Athena++ hosted in the private <a href="https://github.com/PrincetonUniversity/athena">PrincetonUniversity/athena</a> GitHub repository.</li>
<li>The public version of Athena++ is distributed via the public <a href="https://github.com/PrincetonUniversity/athena-public-version">PrincetonUnviersity/athena-public-version</a> GitHub repository.<ul>
<li>Periodic releases from the development repository are transferred by following the procedure described in <a href="https://github.com/PrincetonUniversity/athena/blob/master/pub/doc/pub_doc.tex"><code>pub/doc/pub_doc.tex</code></a> using the scripts in <code>pub/</code>.</li>
</ul>
</li>
<li>The predecessor version, TIGRESS, built on <a href="https://github.com/PrincetonUniversity/Athena-Cversion">PrincetonUniversity/Athena-Cversion</a> is hosted in the private <a href="https://github.com/PrincetonUniversity/Athena-TIGRESS">PrincetonUniversity/Athena-TIGRESS</a> GitHub repository.<ul>
<li><a href="https://princetonuniversity.github.io/Athena-Cversion/AthenaDocs">Athena 4.2 Documentation</a> is hosted on GitHub Pages.</li>
<li>The <a href="https://www.astro.princeton.edu/~jstone/Athena/tests/">Athena 4.2 Test Page</a> contains useful algorithm test results.</li>
</ul>
</li>
<li>The <a href="http://changgoo.github.io/tigress-web/index.html">TIGRESS website</a> is hosted by <a href="https://pages.github.com/">GitHub Pages</a>.</li>
<li>The <a href="https://princetonuniversity.github.io/athena/index.html">Athena++ website</a> is hosted by <a href="https://pages.github.com/">GitHub Pages</a>.</li>
<li>The latest version of the <a href="https://github.com/PrincetonUniversity/athena/wiki">Athena++ documentation</a> is hosted as a GitHub Wiki attached to the private repository.</li>
<li>The TIGRE++ Slack workspace is located at <a href="https:://tigrepp.slack.com">tigrepp.slack.com</a>.</li>
<li>The Athena++ Slack workspace is located at <a href="https:://athena-pp.slack.com">athena-pp.slack.com</a>.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
How to contribute</h1>
<p>There are many ways to contribute! We welcome feedback, <a href="#documentation">documentation</a>, tutorials, scripts, <a href="#bug-reports">bug reports</a>, <a href="#suggesting-enhancements">feature requests</a>, and <a href="#pull-requests">quality pull requests</a>.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Using the issue tracker</h2>
<p>Both <a href="#bug-reports">bug reports</a> and <a href="#suggesting-enhancements">feature requests</a> should use the <a href="https://github.com/changgoo/athena/issues">GitHub issue tracker</a>.</p>
<p>Please do not file an issue to ask a question on code usage.</p>
<h3><a class="anchor" id="autotoc_md4"></a>
Bug reports</h3>
<p><a href="https://github.com/changgoo/athena/issues/new">Open a new Issue</a></p>
<p>Fill out the relevant sections of the <a href="https://github.com/changgoo/athena/blob/master/.github/ISSUE_TEMPLATE.md"><code>ISSUE_TEMPLATE.md</code></a> to the best of your ability when submitting a new issue.</p>
<h3><a class="anchor" id="autotoc_md5"></a>
Suggesting enhancements</h3>
<p>Feature requests are welcome, and are also tracked as <a href="https://guides.github.com/features/issues/">GitHub issues</a>.</p>
<p>Please understand that we may not be able to respond to all of them because of limited resources.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Submitting changes</h2>
<p>Some requirements for code submissions:</p><ul>
<li>Athena++ is licensed under the BSD 3-Clause License; contributions must also use the BSD-3 license.</li>
<li>The code must be commented and well documented, see <a href="#documentation">Documentation</a>.</li>
<li>The Athena++ Wiki has a <a href="https://github.com/PrincetonUniversity/athena/wiki/Style-Guide">Style Guide</a> section in the Programmer Guide. Please follow these conventions as closely as possible in order to promote consistency in the codebase.</li>
<li>When implementing new functionality, add a regression test. See <a href="#testing-and-continuous-integration-CI">Testing and continuous integration (CI)</a>.</li>
<li>If your submission fixes an issue in the <a href="https://github.com/changgoo/athena/issues">issue tracker</a>, please reference the issue # in the pull request title or commit message, for example: <div class="fragment"><div class="line">Fixes #42</div>
</div><!-- fragment --></li>
</ul>
<p>The below instructions assume a basic understanding of the Git command line interface. If you are new to Git or a need a refresher, the <a href="https://www.atlassian.com/git/tutorials/learn-git-with-bitbucket-cloud">Atlassian Bitbucket Git tutorial</a> and the <a href="https://git-scm.com/">Git documentation</a> are helpful resources.</p>
<p><b>As you (who are in the TIGRE++ team) all expected to have write permission to the repository, you can create branches directly. But, you can also follow the guideline below.</b></p>
<p>The easiest way to contribute to ++ is to fork the repository to your GitHub account, create a branch on your fork, and make your changes there. When the changes are ready for submission, open a pull request (PR) on the Athena++ repository. The workflow could be summarized by the following commands:</p><ol type="1">
<li>Fork the repository to your GitHub account (only once) at <a href="https://github.com/changgoo/athena/fork">https://github.com/changgoo/athena/fork</a></li>
<li>Clone a local copy of your private fork: <div class="fragment"><div class="line">git clone https://github.com/&lt;username&gt;/athena ./athena-&lt;username&gt;</div>
</div><!-- fragment --></li>
<li>Create a descriptively-named feature branch on the fork: <div class="fragment"><div class="line">cd athena-&lt;username&gt;</div>
<div class="line">git checkout -b cool-new-feature</div>
</div><!-- fragment --></li>
<li>Commit often, and in logical groups of changes.<ul>
<li>Use <a href="https://help.github.com/articles/about-git-rebase/">interactive rebasing</a> to clean up your local commits before sharing them to GitHub.</li>
<li>Follow <a href="https://www.git-scm.com/book/en/v2/Distributed-Git-Contributing-to-a-Project#_commit_guidelines">commit message guidelines</a>; see also <a href="https://chris.beams.io/posts/git-commit/">How to Write a Git Commit Message</a>. <div class="fragment"><div class="line">git add src/modified_file.cpp</div>
<div class="line"># Use your editor to format the commit message</div>
<div class="line">git commit -v</div>
</div><!-- fragment --></li>
</ul>
</li>
<li>Push your changes to your remote GitHub fork: <div class="fragment"><div class="line">git push -u origin cool-new-feature</div>
</div><!-- fragment --></li>
<li>When your branch is complete and you want to add it to TIGRE++, open a new pull request to <code>tigre-master</code>. <b>Note that the default base repository and branch to which the pull requests are merged is <code>PrincetonUniversity/athena</code> and <code>master</code>. Please change the <code>base repository</code> and <code>branch</code> to <code>changgoo/athena</code> and <code>tigre-master</code>.</b></li>
</ol>
<h3><a class="anchor" id="autotoc_md7"></a>
Forks and branches</h3>
<p>The use of separate branches for both new features and bug fixes, no matter how small, is highly encouraged. Committing directly to <code>master</code> branch should be kept to a minimum. <a href="https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell">Branches in Git are lightweight</a>, and merging small branches should be painless.</p>
<p>For the majority of development, users should use personal forks instead of branches on <a href="https://github.com/changgoo/athena">changgoo/athena</a> (especially for larger development projects). The shared Athena++ repository should only contain a restricted set of main feature branches and temporary hotfix branches at any given time.</p>
<p>To update your private fork with changes from <a href="https://github.com/changgoo/athena">changgoo/athena</a>, from the <code>master</code> branch on a cloned copy of the forked repo:</p><ol type="1">
<li>Add a remote named <code>upstream</code> for the original Athena++ repository: <div class="fragment"><div class="line">git remote add upstream https://github.com/changgoo/athena</div>
</div><!-- fragment --></li>
<li>Fetch the updates from the original Athena++ repository: <div class="fragment"><div class="line">git fetch upstream</div>
</div><!-- fragment --></li>
<li>Merge the new commits into your forked <code>master</code>: <div class="fragment"><div class="line">git merge --ff-only upstream/master</div>
</div><!-- fragment --></li>
</ol>
<p>will work if you have not committed directly to your forked <code>master</code> branch.</p>
<p>If you have modified your forked <code>master</code> branch, the last two steps could be replaced by: </p><div class="fragment"><div class="line">git pull --rebase upstream master</div>
</div><!-- fragment --><p>See <a href="#developing-on-shared-branch">Developing on shared <code>branch</code></a>.</p>
<h3><a class="anchor" id="autotoc_md8"></a>
Developing on shared &lt;tt&gt;branch&lt;/tt&gt;</h3>
<p>There are a few practices that should be followed when committing changes to a collaborative <code>branch</code> on <a href="https://github.com/changgoo/athena">changgoo/athena</a> in order to avoid conflicts and headaches. These guidelines especially apply to developing on the fast changing <code>master</code> branch for those users with Admin permissions.</p>
<p>If you commit to an outdated local copy of <code>branch</code> (i.e. someone else has pushed changes to GitHub since you last checked), the <code>git push origin branch</code> command will be rejected by the server and prompt you to execute the <code>git pull</code> command. The default <code>git pull</code> behavior in this scenario is to create a merge-commit after you resolve any conflicts between your changes and the remote commits. However, these non-descriptive commit messages tend to clutter the repository history unnecessarily.</p>
<p>Most of them likely could have been avoided by either 1) doing local development on feature branches or 2) using <code>git pull --rebase</code> to perform a rebase instead of a merge when pulling conflicting updates.</p>
<p>If you frequently encounter such issues, it is recommended to enable the latter by default. In git versions &gt;= 1.7.9, this can be accomplished with: </p><div class="fragment"><div class="line">git config --global pull.rebase true</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md9"></a>
Pull requests</h3>
<p>When your changes are ready for submission, you may open a new pull request to <code>tigre-master</code> from a branch on the main repository (Write access) or from a branch on your private forked repository. For the latter, go to the page for your fork on GitHub, select your development branch, and click the pull request button. Fill out the relevant sections of the <a href="https://github.com/changgoo/athena/blob/master/.github/PULL_REQUEST_TEMPLATE.md"><code>PULL_REQUEST_TEMPLATE.md</code></a> to the best of your ability when submitting a new PR.</p>
<p>We will discuss the proposed changes and may request that you make modifications to your code before merging. To do so, simply commit to the feature branch and push your changes to GitHub, and your pull request will reflect these updates.</p>
<p>Before merging the PRs, you may be asked to squash and/or rebase some or all of your commits in order to preserve a clean, linear Git history. We will walk you through the interactive rebase procedure, i.e. </p><div class="fragment"><div class="line">git rebase -i master</div>
</div><!-- fragment --><p>In general for Athena++, merging branches with <code>git merge —no-ff</code> is preferred in order to preserve the historical existence of the feature branch.</p>
<p>After the pull request is closed, you may optionally want to delete the feature branch on your local and remote fork via the GitHub PR webpage or the command line: </p><div class="fragment"><div class="line">git branch d cool-new-feature</div>
<div class="line">git push origin --delete cool-new-feature</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md10"></a>
Code review policy</h3>
<p>Currently, <code>master</code> and <code>tigre-master</code> are GitHub <a href="https://help.github.com/articles/about-protected-branches/">protected branches</a>, which automatically:</p><ul>
<li>Disables force pushing on <code>master</code> and <code>tigre-master</code></li>
<li>Prevents <code>master</code> and <code>tigre-master</code> from being deleted</li>
</ul>
<p>Additionally, we have enabled <a href="https://help.github.com/articles/enabling-required-reviews-for-pull-requests/">"Require pull request reviews before merging"</a> to <code>tigre-master</code>. This setting ensures that all pull requests require at least 1 code review before the branch is merged to the <code>tigre-master</code> branch and effectively prohibits pushing <b>any</b> commit directly to <code>tigre-master</code>, even from users with Write access.</p>
<p>Only collaborators with Admin permissions (<code>Athena++_admin</code> and <code>changgoo</code>) can bypass these restrictions. The decision to force the use of branches and pull requests for all changes, no matter how small, was made in order to:</p><ol type="1">
<li>Allow for isolated testing and human oversight/feedback/discussion of changes</li>
<li>Promote a <a href="https://fangpenlin.com/posts/2013/09/30/keep-a-readable-git-history/">readable</a>, <a href="http://www.bitsnbites.eu/a-tidy-linear-git-history/">linear</a>, and reversible Git history for computational reproducibility and maintainability</li>
<li>Most importantly, prevent any accidental pushes to <code>tigre-master</code></li>
</ol>
<h2><a class="anchor" id="autotoc_md11"></a>
Testing and continuous integration (CI)</h2>
<p>Automated testing is an essential part of any large software project. The <a href="https://github.com/PrincetonUniversity/athena/wiki/Regression-Testing">Regression Testing</a> page in the Athena++ Wiki describes how to use and write new tests for the framework setup in the <code>tst/regression/</code> folder. Developers should run these tests to ensure that code changes did not break any existing functionalities.</p>
<p>Continuous integration is currently provided by both the Princeton Jenkins server and Travis CI service. These services automatically use the <a href="https://github.com/PrincetonUniversity/athena/wiki/Regression-Testing">Regression Testing</a> framework to check code functionality and code <a href="https://en.wikipedia.org/wiki/Lint_(software)">linters</a> to ensure that conventions in the <a href="https://github.com/PrincetonUniversity/athena/wiki/Style-Guide">Style Guide</a> are obeyed. The details of the infrastructure setup and instructions on how to use these services are covered in the <a href="https://github.com/PrincetonUniversity/athena/wiki/Continuous-Integration-%28CI%29">Continuous Integration (CI)</a> Wiki page.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Documentation</h2>
<p>The development repository's <a href="https://github.com/changgoo/athena/wiki">documentation</a> is a <a href="https://help.github.com/articles/about-github-wikis/">GitHub Wiki</a> and is written largely in Markdown. Limited math typesetting is supported via HTML. See existing Wiki source for examples, e.g. <a href="https://github.com/PrincetonUniversity/athena/wiki/Coordinate-Systems-and-Meshes/_edit">Editing: Coordinate Systems and Meshes</a>.</p>
<p>Any significant change or new feature requires accompanying documentation before being merged to <code>tigre-master</code>. While edits can be made directly using the online interface, the Wiki is a normal Git repository which can be cloned and modified. <a href="https://help.github.com/articles/adding-and-editing-wiki-pages-locally/">However</a>: </p><blockquote class="doxtable">
<p>You and your collaborators can create branches when working on wikis, but only changes pushed to the <code>master</code> branch will be made live and available to your readers. </p>
</blockquote>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
